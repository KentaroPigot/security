{% extends 'base.html.twig' %}

{% block title %}Hello CommentAdminController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1>Hello
			{{ controller_name }}! âœ…</h1>

		This friendly message is coming from:
		<ul>
			<li>Your controller at
				<code>C:/Users/kenta/Documents/Projets/Cours/Symfony/security/src/Controller/CommentAdminController.php</code>
			</li>
			<li>Your template at
				<code>C:/Users/kenta/Documents/Projets/Cours/Symfony/security/templates/comment_admin/index.html.twig</code>
			</li>
		</ul>
	</div>
{% endblock %}
{% extends 'content_base.html.twig' %}

{% block title %}Manage Comments
{% endblock %}

{% block content_class %}
	{{ parent() }}
	show-article-container-border-green
{% endblock %}

{% block content_body %}
	<div class="row">
		<div class="col-sm-12">
			<h1>Manage Comments ({{ pagination.getTotalItemCount }})</h1>

			<form>
				<div class="input-group mb-3">
					<input type="text" name="q" class="form-control" value="{{ app.request.query.get('q') }}" placeholder="Search...">
					<div class="input-group-append">
						<button type="submit" class="btn btn-outline-secondary">
							<span class="fa fa-search"></span>
						</button>
					</div>
				</div>
			</form>

			<table class="table table-striped">
				<thead>
					<tr>
						<th>Article</th>
						<th>Author</th>
						<th>Comment</th>
						<th>Created</th>
					</tr>
				</thead>
				<tbody>
					{% for comment in pagination %}
						<tr>
							<td>
								<a href="{{ path('article_show', {'slug': comment.article.slug}) }}">
									{{ comment.article.title }}
								</a>
							</td>
							<td>
								{{ comment.authorName }}
							</td>
							<td style="width: 20%;">
								{{ comment.content|truncate }}
							</td>
							<td>
								{{ comment.createdAt|ago }}
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="4" class="text-center">
								No comments found
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>

			{{ knp_pagination_render(pagination) }}
		</div>
	</div>
{% endblock %}
